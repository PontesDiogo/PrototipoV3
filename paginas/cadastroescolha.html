<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- Font Awesome icons (free version)-->
    <link rel="icon" type="image/png" sizes="16x16" href="../dist/assets/favicon.ico">
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../dist/css/styles.css">
    <link rel="stylesheet" href="../estilosTelas.css">
    <link rel="stylesheet" href="../estiloUniversal.css">
    <title>Students on Working :: Tipo de cadastro</title>
</head>

<body>
    <div class="d-flex flex-column wrapper">
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav" >
            <div class="container">
                <a class="navbar-brand text-white" href="../dist/index.html">
                    <b>Students on Working</b>
                </a>

                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-white" href="../dist/index.html">
                                Principal
                            </a>
                        </li>
                    </ul>
                    <div class=" align-self-end">
                        <ul class="navbar-nav">

                            <li class="nav-item">
                                <a href="/login.html" class="nav-link text-white">Entrar</a>
                            </li>

                        </ul>
                    </div>
                </div>
            </div>
        </nav>

        <main class="flex-fill">
            <div class="container">
                <h1>Selecione o tipo de conta</h1>

                <div class="d-flex justify-content-between flex-wrap border rounded-top pt-4 px-3">

                    <div class="mb-4 mx-2 flex-even">
                        <input type="radio" class="btn-check" name="contatipo" autocomplete="off" id="pag1">
                        <label class="btn btn-outline-warning p-4 h-100 w-100" for="pag1">
                            <h3>
                                <b class="text-dark">Conta estudantil</b>
                            </h3>
                            <hr/>
                            <form onclick="openForm('FormPopupAluno')">
                                <h4>Conta destinada a alunos</h4>
                                <p>Por favor clique aqui para registrar suas informações</p>
                                <br>
                            </form>


                        </label>
                        <div class="form-popup" id="FormPopupAluno">
                            <div class="form-container w-100">
                                <h1>Cadastro</h1>

                                <label for="name"><b>Nome Completo</b></label>
                                <input type="text" placeholder="Insira seu nome"            class="FormEmailPopup" id="input-nome" required>
                                <br>

                                <label for="email"><b>Email</b></label>
                                <input type="text" placeholder="Enter Email"                class="FormEmailPopup" id="input-email" required>
                                <br>
                                <label for=""><b>Senha</b></label>
                                <input type="" placeholder="Enter "         class="" id="input-senha" required>
                                <br>
                                <label for="text"><b>Endereço</b></label>
                                <input type="text" placeholder="Seu Endereço"               class="FormEndPopup" id="input-endereco" required>
                                <br>

                                <label for="tex"><b>Telefone</b></label>
                                <input type="tel" placeholder="Enter Telefone"             class="FormTelPopup" id="input-telefone" required>
                                <br>

                                <label for="date"><b>Data de Nascimento</b></label>
                                <input type="date" placeholder="Enter data de nascimento"   class="FormDataPopup" id="input-data_nasc" required>
                                <br>
                                <label for="text"><b>Cidade</b></label>
                                <input type="text" placeholder="Enter Cidade"               class="FormCityPopup" id="input-cidade" required>
                                <button type="button" class="btnLog" id="input_alunoCadastrar">Cadastrar</button>
                                <button type="button" class="cancel" onclick="closeForm('FormPopupAluno')">Fechar</button>
                            </div>
                        </div>

                    </div>

                    <div class="mb-4 mx-2 flex-even">
                        <input type="radio" class="btn-check" name="contatipo" autocomplete="off" id="pag2">
                        <label class="btn btn-outline-warning p-4 h-100 w-100" for="pag2">
                            <h3>
                                <b class="text-dark">Conta empresarial</b>
                            </h3>
                            <hr>
                            <form onclick="openForm('FormPopupEmpresa')">
                                <h4>Conta destinada a empresas</h4>
                                <p>Por favor clique aqui para registrar suas informações</p>
                                <br>
                            </form>


                        </label>
                        <div class="form-popup" id="FormPopupEmpresa">
                            <div class="form-container w-100">
                                <h1>Cadastro</h1>

                                <label for="cnpj"><b>CPNJ da empresa</b></label>
                                <input type="number" placeholder="Insira o CNPJ da sua empresa" name="cnpj" class="FormCnpjPopup" id="input-cnpj" required>
                                <br>
                                <label for="nome"><b>Nome</b></label>
                                <input type="text" placeholder="Insira o nome da empresa" name="nome" class="FormNomelPopup" id="input-nome" required>

                                <label for="email"><b>Email</b></label>
                                <input type="email" placeholder="Insira o email de sua empresa " name="email" class="FormEmailPopup" id="input-email" required>

                                <label for="Senha"><b>Insira a senha</b></label>
                                <input type="password" placeholder="Insira uma senha forte " name="email" class="FormSenhaPopup" id="input-senha" required>

                                <label for="Telefone"><b>Telefone para contato</b></label>
                                <input type="number" placeholder="Insira um telefone para contato " name="telefone" class="FormTelPopup" id="input-telefone" required>

                                <label for="endereco"><b>Endereço da sua empresa</b></label>
                                <input type="text" placeholder="Insira o endereço da empresa " name="endereco" class="FormEndPopup" id="input-endereco" required>
                                <button type="submit" class="btnLog" id="input_empresaCadastrar">Cadastrar</button>
                                <button type="button" class="cancel" onclick="closeForm('FormPopupEmpresa')">Fechar</button>
                            </div>
                        </div>
                    </div>

                </div>


            </div>
        </main>

    </div>
        <div id="fff"></div>
      <footer class="footer text-center ">
            <div class="container">
                <div class="row">
                    <!-- Footer Location-->
                    <div class="col-lg-4 mb-5 mb-lg-0 ">
                        <h4 class="text-uppercase mb-4">Localização</h4>
                        <p class="lead mb-0">
                            R. Manira Jacob Biscaro, 45
                            <br />
                            Jd. Baccili, Tietê - SP
                        </p>
                    </div>
                    <!-- Footer Social Icons-->
                    <div class="col-lg-4 mb-5 mb-lg-0 justify-content-between">
                        <h4 class="text-uppercase mb-4">Pela web</h4>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i
                                class="fab fa-fw fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i
                                class="fab fa-fw fa-twitter"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i
                                class="fab fa-fw fa-linkedin-in"></i></a>
                    </div>
                    <!-- Footer About Text-->
                    <div class="col-lg-4">
                        <h4 class="text-uppercase mb-4">Detalhes sobre o template</h4>
                        <p class="lead mb-0">
                            Freelance é de uso gratuito, MIT licenseado pelo tema Bootstrap criado em
                            <a href="http://startbootstrap.com">Start Bootstrap</a>

                        </p>
                    </div>
                </div>
            </div>
        </footer>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../scripts/jquery-3.6.1.min.js"></script>

    <script>
        function openForm(name_form) {
            document.getElementById(name_form).style.display = "block";
        }

        function closeForm(name_form) {
            document.getElementById(name_form).style.display = "none";
        }

        let element_nome = $("#input-nome");
        let element_email = $("#input-email");
        let element_senha = $("#input-senha");
        let element_endereco = $("#input-endereco");
        let element_telefone = $("#input-telefone");
        let element_data_nasc = $("#input-data_nasc");
        let element_cidade = $("#input-cidade");  //ALTERAR IDs - separando um para aluno e um para empresa
        let element_cnpj = $("#input-cnpj");
        let element_id = $("#input-id");

        let element_alunoCadastrar = $("#input_alunoCadastrar");
        let element_empresaCadastrar = $("#input_empresaCadastrar")




        element_alunoCadastrar.click(()=>{
            if (element_nome == "" || element_email == "" || element_senha == "")(
                            alert("Dados não informados")
                        )
                        else{
                            alunoCadastrar(
                            element_nome.val(),
                            element_email.val(),
                            element_senha.val(),
                            element_endereco.val(),
                            element_telefone.val(),
                            element_data_nasc.val(),
                            element_cidade.val()
                        );
                        }
                    })


         element_empresaCadastrar.click(()=>{
            if (element_nome == "" || element_email == "" || element_senha == ""){
                alert("Dados não informados")
            }
            else{
                empresaCadastrar(
                    element_id.val(),
                    element_cnpj.val(),
                    element_nome.val(),
                    element_email.val(),
                    element_senha.val(),
                    element_endereco.val(),
                    element_telefone.val()
                );
            }
            })

         function empresaCadastrar(id, cnpj, nome,email,senha,endereco,telefone){
         let req = {
            "funcao": "cadastrar",
            "id": id,
            "cnpj": cnpj,
            "nome":nome,
            "email":email,
            "senha":senha,
            "endereco":endereco,
            "telefone":telefone
         }

         req = JSON.stringify(req);
         url = $(location).attr('protocol')+"//"+ $(location).attr('host');
         console.log(req);

        $.post(`${url}/back_end/controller/empresa.php`, req, (resposta)=>{
            console.log(resposta);
            $('#fff').html(resposta)
            // resposta = JSON.parse(resposta);

            // console.log(resposta);
        })}

        function alunoCadastrar(nome,email,senha,endereco,telefone,data_nasc,cidade) {

        let req = {
            "funcao": "cadastrar",
            "nome":nome,
            "email":email,
            "senha":senha,
            "endereco":endereco,
            "telefone":telefone,
            "dataNasc": data_nasc,
            "cidade":cidade
        }

        req = JSON.stringify(req);
        url = $(location).attr('protocol')+"//"+ $(location).attr('host');
        console.log(url);
        $.post(`${url}/back_end/controller/aluno.php`, req, (resposta)=>{
            resposta = JSON.parse(resposta);

            console.log(resposta);
        })}

      </script>
</body>

</html>

<!--
.footer {
    padding-top: 5rem;
    right: 0;
    padding-bottom: 5rem;
    background-color: #2c3e50;
    color: #fff;
    position: fixed;
    width: -webkit-fill-available;
    bottom: 0;
} -->
